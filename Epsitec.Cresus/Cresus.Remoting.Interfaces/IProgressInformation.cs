//	Copyright © 2004-2008, EPSITEC SA, 1400 Yverdon-les-Bains, Switzerland
//	Responsable: Pierre ARNAUD

namespace Epsitec.Cresus.Remoting
{
	/// <summary>
	/// L'interface IProgressInformation permet d'obtenir des informations sur
	/// le progrès d'une opération de longue durée.
	/// </summary>
	public interface IProgressInformation
	{
		int				ProgressPercent		{ get; }	//	avancement 0..100, -1 = indéterminé
		ProgressStatus	ProgressStatus		{ get; }	//	état (en cours d'exécution, terminé, annulé, échoué)
		int				CurrentStep			{ get; }	//	# de l'étape en cours (0..n)
		int				LastStep			{ get; }	//	# de la dernière étape, -1 = indéterminé
		
		System.TimeSpan	RunningDuration		{ get; }	//	durée d'exécution actuelle
		System.TimeSpan	ExpectedDuration	{ get; }	//	durée totale estimée, indéterminée si < 0
		
		bool WaitForProgress(int minimum_progress, System.TimeSpan timeout);
	}
}
